# Referral system
Данная работа представляет собой API сервис для реферальной системы.:

- Авторизация по номеру телефона. Первый запрос на ввод номера телефона. Имитирует отправку 4х значного кода авторизации(задержку на сервере 1-2 сек). Второй запрос на ввод кода 
- Если пользователь ранее не авторизовывался, то пользователя в бд 
- Пользователю при первой авторизации присваивается рандомно сгенерированный 6-значный инвайт-код(цифры и символы)
- В профиле у пользователя есть возможность ввести чужой инвайт-код(при вводе проверяется на существование). В своем профиле можно активировать только 1 инвайт код, если пользователь уже когда-то активировал инвайт код, то код выводится в соответсвующем поле в запросе на профиль пользователя
- В API профиля выводится список пользователей(номеров телефона), которые ввели инвайт код текущего пользователя.

## Содержание
- [Технологии](#технологии)
- [Начало работы](#начало-работы)
- [Установка](#установка)



## Технологии
- [Django](https://www.djangoproject.com/)
- [Django Rest Framework](https://www.django-rest-framework.org/)
- [Docker](https://www.docker.com/)

## Начало работы

Создание базу данных postgres:
```
CREATE DATABASE db_name
```
Создать .env фаил:
```
Пример заполнения в файле .env.example
```

## Установка

### Установка зависимостей
Для установки зависимостей, выполните команду:
```
pip install -r requirements.txt
```
Применить миграции:
```
python manage.py migrate
```

### Запуск сервера
Чтобы запустить сервер :
```
python3 manage.py runserver
```
Загрузка фикстур (при необходимости) :
```
python3 manage.py loaddata users.json
```

## Запуск проекта через docker-compose

Для запуска через docker-compose выполнить команду находясь в корне проекта:
```
docker-compose up
```

